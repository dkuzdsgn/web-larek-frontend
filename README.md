# Проектная работа "Веб-ларек"

## Используемый стек

**Языки:** HTML, TypeScript  
**Стилизация:** SCSS  
**Сборка:** Webpack  
**Линтинг и автоформатирование:** ESLint, Prettier

## Инструкция по сборке и запуску

### Установка
Для установки зависимостей выполните одну из команд

```bash
npm install
```
или

```bash
yarn
```
### Запуск
Для запуска проекта в режиме разработки выполните одну из команд

```bash
npm run start
```
или

```bash
yarn start
```

### Сборка проекта
Для сборки проекта в продакшн-режиме выполните одну из команд

```bash
npm run build
```
или

```bash
yarn build
```

## Архитектура

**Паттерн:** MVP (Model-View-Presenter) архитектура

### Базовые классы

- Класс **CartModel** отвечает за добавление, удаление и хранение товаров из корзины.
- Класс **OrderModel** отвечает за хранение информации, введенной пользователем при оформлении заказа.
- Класс **ProductModel** отвечает за получение и хранение списка товаров.

- Класс **CartView** отвечает за отображение содержимого корзины.
- Класс **CheckoutView** отвечает за отображение шагов оформления заказа.
- Класс **ModalView** отвечает за открытие и закрытие модальных окон.
- Класс **ProductDetailView** отвечает за отображение модального окна с детальной информацией о товаре.
- Класс **ProductsView** отвечает за отображение каталога товаров.

- Класс **CartPresenter** отвечает за обработку действий пользователя в корзине (удаление товара).
- Класс **CheckoutPresenter** отвечает за валидацию, обработку данных при оформлении заказа, а также очистку корзины после успешной оплаты.
- Класс **ProductPresenter** обрабатывает клики по карточкам товаров, получает данные о товаре и управляет отображением модального окна.

### Описание компонентов

Компонент **ProductCard** отвечает за отображение карточки продукта на странице каталога товаров. Включает в себя категорию товара, наименование, изображение, а также цену с валютой. Используется в `productsView` для отображения товара.

**Параметры:** 
- id - уникальный идентификатор товара 
- name - наименование товара 
- category - категория товара 
- price - стоимость 
- currency - валюта 
- image - изображение

Компонент **ProductDetail** отвечает за отображение модального окна с детальной информацией о товаре и кнопки для добавления товара в корзину. Включает в себя категорию товара, наименование, изображение, цену с валютой, а также кнопку "В корзину". Используется в `ProductDetailView`. 

**Параметры:** 
- id - уникальный идентификатор товара  
- name - наименование товара  
- description - описание товара 
- category - категория товара
- price - стоимость 
- currency - валюта 
- image - изображение

Компонент **Button** отвечает за отображение как текстовой кнопки, так и кнопки-иконки. Используется в `ProductDetailView`, `CartView`, `CheckoutView`. 

**Параметры:**
- text (опционально) - текст кнопки (например, "Купить")
- icon (опционально) - иконка кнопки (svg)
- onClick - функция-обработчик события нажатия, 
- type (опционально) - тип кнопки, задает ее внешний вид и назначение:
  - primary - основное действие (например, "купить", "оформить заказ", "оплатить", "за новыми покупками") 
  - secondary - второстепенное действие (для кнопок "онлайн", "при получении")
  - icon - кнопка-иконка (например, крестик или корзина)
- disabled (опционально) - блокирует кнопку, если true.

Компонент **ProductRowCart** отвечает за отображение строки с информацией о товаре в корзине. Включает в себя номер товара, наименование, а также цену с валютой. Используется в `CartView`. 

**Параметры:**
- order - номер товара в списке в корзине
- name - наименование товара 
- price - стоимость 
- currency - валюта

Компонент **OrderSuccess** отвечает за отображение модального окна с информацией о успешном оформлении заказа. Используется в `CheckoutView`. Включает в себя изображение, заголовок, информацию о стоимости покупки, кнопку "За новыми покупками". 

**Параметры:**
- price - стоимость 
- currency - валюта

Компонент **FormItem** отвечает за отображение одного поля формы, включая label, input, а также сообщение об ошибке. Используется в `CheckoutView` для ввода адреса, email и номера телефона. 

**Параметры:** 
- label - подпись поля
- name  - атрибут name для input 
- type - тип поля (text, email, tel)
- error (опционально) - текст сообщения об ошибке

### Типы данных

- `Product` - описание товара из каталога.
- `ProductList` - массив объектов Product.
- `CartItem` - данные товара, добавленного в корзину.
- `PaymentMethod` - возможные способы оплаты: "онлайн" или "при получении".
- `OrderInfo` - информация, введённая пользователем на этапе оформления заказа.
- `OrderResult` - итоговая информация после успешной оплаты.
- `ButtonOptions` - параметры кнопки (текст, иконка, событие, тип).
- `FormItemOptions` - параметры одного поля формы (лейбл, имя, тип,ошибка).

## Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом
- src/model — папка с файлами классов, отвечающих за логику и данные 
- src/view — папка с файлами классов, отвечающих за отображение
- src/presenter — папка с файлами классов-презентеров

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами